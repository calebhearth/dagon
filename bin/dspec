#!/usr/bin/env dagon

require("spec/dspec")
require("spec/assertions")

ARGV.shift

spec-files:
  if ARGV.empty
    Dir.glob("spec/*_spec.dg")
  else
    ARGV

DSpecRunner:
  init(spec-files):
    @spec-files: spec-files

  run-tests:
    run-spec-files

  run-spec-files:
    @spec-files.each ->(file)
      load(file)

runner: DSpecRunner(spec-files)
runner.run-tests()
